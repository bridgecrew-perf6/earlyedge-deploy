!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){(function(n){var r;
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||f(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||f(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,f()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),a=o&&parseInt(o[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),l=r.match(/Version\/(.*?) /),c=s&&l&&parseInt(l[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new o,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return i.ctx||f(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=null;if(i.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,r;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(r=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&i.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&c(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var l=s._id;return n._queue.push({event:"play",action:function(){n.play(l)}}),l}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),u=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),d=1e3*u/Math.abs(s._rate),p=n._sprite[e][0]/1e3,f=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=c,s._start=p,s._stop=f,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(c>=f)){var v=s._node;if(n._webAudio){var m=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;v.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===v.bufferSource.start?s._loop?v.bufferSource.noteGrainOn(0,c,86400):v.bufferSource.noteGrainOn(0,c,u):s._loop?v.bufferSource.start(0,c,86400):v.bufferSource.start(0,c,u),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===i.state&&"interrupted"!==i.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var _=function(){v.currentTime=c,v.muted=s._muted||n._muted||i._muted||v.muted,v.volume=s._volume*i.volume(),v.playbackRate=s._rate;try{var r=v.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,v._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),v.playbackRate=s._rate,v.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),v.removeEventListener("ended",n._endTimers[s._id],!1)},v.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===v.src&&(v.src=n._src,v.load());var g=window&&window.ejecta||!v.readyState&&i._navigator.isCocoonJS;if(v.readyState>=3||g)_();else{n._playLock=!0,n._state="loading";var y=function(){n._state="loaded",_(),v.removeEventListener(i._canPlayEvent,y,!1)};v.addEventListener(i._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]){var a=r._getSoundIds(),s=a.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var l=0;l<t.length;l++)(n=r._soundById(t[l]))&&(n._volume=e,o[2]||r._stopFade(t[l]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var l=o._soundById(a[s]);if(l){if(r||o._stopFade(a[s]),o._webAudio&&!l._muted){var c=i.ctx.currentTime,u=c+n/1e3;l._volume=e,l._node.gain.setValueAtTime(e,c),l._node.gain.linearRampToValueAtTime(t,u)}o._startFadeInterval(l,e,t,n,a[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,s=t,l=n-t,c=Math.abs(l/.01),u=Math.max(4,c>0?r/c:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-d)/r;d=Date.now(),s+=l*o,s=Math.round(100*s)/100,s=l<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),u)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[a])&&(r.pause(i[a],!0),r.play(i[a],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){var a=r._getSoundIds(),s=a.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var l=0;l<t.length;l++)if(n=r._soundById(t[l])){r.playing(t[l])&&(n._rateSeek=r.seek(t[l]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var c=r.seek(t[l]),u=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-c,d=1e3*u/Math.abs(n._rate);!r._endTimers[t[l]]&&n._paused||(r._clearTimer(t[l]),r._endTimers[t[l]]=setTimeout(r._ended.bind(r,n),d)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){var o=n._getSoundIds(),a=o.indexOf(r[0]);a>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var l=n.playing(t)?i.ctx.currentTime-s._playStart:0,c=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(c+l*Math.abs(s._rate))}return s._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){u&&n.play(t,!0),n._emit("seek",t)};if(u&&!n._webAudio){var p=function(){n._playLock?setTimeout(p,0):d()};setTimeout(p,0)}else d()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return l&&o&&delete l[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this["_on"+e],o=0;if("number"==typeof t&&(n=t,t=null),t||n)for(o=0;o<r.length;o++){var i=n===r[o].id;if(t===r[o].fn&&i||!t&&i){r.splice(o,1);break}}else if(e)this["_on"+e]=[];else{var a=Object.keys(this);for(o=0;o<a.length;o++)0===a[o].indexOf("_on")&&Array.isArray(this[a[o]])&&(this[a[o]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this["_on"+e],o=r.length-1;o>=0;o--)r[o].id&&r[o].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,r[o].fn),0),r[o].once&&this.off(e,r[o].fn,r[o].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),i._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new s(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=l[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=i._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),this._node.gain.setValueAtTime(t,i.ctx.currentTime),this._node.paused=!0,this._node.connect(i.masterGain)):i.noAudio||(this._node=i._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(i._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*i.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(i._canPlayEvent,this._loadFn,!1)},_endListener:function(){var e=this._parent;e._duration===1/0&&(e._duration=Math.ceil(10*this._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var l={},c=function(e){var t=e._src;if(l[t])return e._duration=l[t].duration,void p(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);d(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){i.setRequestHeader(t,e._xhr.headers[t])})),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[t],e.load())},u(i)}},u=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(l[t._src]=e,p(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},p=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},f=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=a,void 0!==n?(n.HowlerGlobal=o,n.Howler=i,n.Howl=a,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,o="number"!=typeof o?a[4]:o,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(this._orientation=[e,t,n,r,o,i],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,r,o,i),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var l=i._soundById(a[s]);if(l){if("number"!=typeof e)return l._pos;l._pos=[e,n,r],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setPosition(e,n,r)),i._emit("pos",l._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var l=i._soundById(a[s]);if(l){if("number"!=typeof e)return l._orientation;l._orientation=[e,n,r],l._node&&(l._panner||(l._pos||(l._pos=i._pos||[0,0,-.5]),t(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setOrientation(e,n,r)),i._emit("orientation",l._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(r=o._soundById(parseInt(i[0],10)))?r._pannerAttr:o._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var a=o._getSoundIds(n),s=0;s<a.length;s++)if(r=o._soundById(a[s])){var l=r._pannerAttr;l={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:l.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:l.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:l.panningModel};var c=r._panner;c?(c.coneInnerAngle=l.coneInnerAngle,c.coneOuterAngle=l.coneOuterAngle,c.coneOuterGain=l.coneOuterGain,c.distanceModel=l.distanceModel,c.maxDistance=l.maxDistance,c.refDistance=l.refDistance,c.rolloffFactor=l.rolloffFactor,c.panningModel=l.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),t(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(4))},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],l=t.base?i[0]+t.base:i[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=s(u),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:m(p,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,v=0;function m(e,t){var n,r,o;if(t.singleton){var i=v++;n=h||(h=c(t)),r=p.bind(null,n,i,!1),o=p.bind(null,n,i,!0)}else n=c(t),r=f.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}for(var i=l(e,t),c=0;c<n.length;c++){var u=s(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=i}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e){e.exports=JSON.parse('{"src":["internal/audio/SoundEffects.mp3"],"sprite":{"Cartoon_fall":[0,1349.591836734694],"Click-01":[3000,3113.0612244897957],"DragDrop":[8000,58.16326530612237]}}')},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(1),o=n(6);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},function(e,t,n){var r=n(2),o=n(7),i=n(8),a=n(9),s=n(10),l=n(11),c=n(12),u=n(13),d=n(14),p=n(15);t=r(!1);var f=o(i),h=o(a),v=o(s),m=o(l),_=o(c),g=o(u),y=o(d),b=o(p);t.push([e.i,'@font-face{font-family:"Montserrat-Regular";src:url('+f+') format("woff2")}@font-face{font-family:"Montserrat-Bold";src:url('+h+') format("woff2")}@font-face{font-family:"Montserrat-Italic";src:url('+v+') format("woff2")}@font-face{font-family:"Montserrat-BoldItalic";src:url('+m+') format("woff2")}@font-face{font-family:"Montserrat-SemiBold";src:url('+_+') format("woff2")}@font-face{font-family:"Montserrat-SemiBoldItalic";src:url('+g+') format("woff2")}@font-face{font-family:"SassoonSansUSBold";src:url('+y+') format("woff2")}body{margin:0;padding:0;background-color:white;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);font-family:SassoonSansUSBold}.vendorCorrectClickEffect:active{transform-origin:center bottom;animation:jumpCorrect 0.3s}@keyframes jumpCorrect{0%{transform:scaleY(1)}20%{transform:scaleY(0.8)}40%{transform:scaleY(0.8)}60%{transform:translateY(-30px)}80%{transform:translateY(0px)}}.vendorIncorrectClickEffect:active{transform-origin:center bottom;transform:skewX(-10deg)}.vendorNoPointer{cursor:none}.vendorCartoonHand{position:absolute;left:0px;top:0px;width:45px;height:60px;background:url('+b+") no-repeat 100%;pointer-events:none}.vendorPlayerHolder{position:absolute;right:10px;bottom:10px;width:100px;pointer-events:none;transform-origin:right bottom}.vendorPlayerHolder .vendorPlayerButton{position:relative;width:100px;height:100px;background-size:100%;visibility:hidden;pointer-events:all;cursor:pointer}.vendorPlayerHolder .vendorPlayerButton:nth-child(1){margin-bottom:6px}.vendorPlayerHolder .vendorPlayerButton.show{visibility:visible}.vendorPlayerHolder .vendorPlayerButton:active{transform:scale(0.9)}.vendorPlayerHolder .vendorEndButton{position:absolute;right:10px;bottom:10px;width:100px;height:100px;background-size:100%;visibility:hidden;pointer-events:all;cursor:pointer}.vendorPlayerHolder .vendorEndButton.show{visibility:visible}.vendorPlayerHolder .vendorEndButton:active{transform:scale(0.9)}.vendorProInHolder{position:absolute;right:10px;top:10px;width:92px;height:92px;transform-origin:right top}.vendorPortLayer{position:absolute;display:flex;justify-content:center;align-items:center;left:0;top:0;width:100%;height:100%;background-color:#64ADC5}.vendorPortLayer .vendorTextBox{width:200px;padding:30px;font-family:Montserrat-Bold;font-size:24px;background-color:white;border-radius:20px}.vendorWrapper{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden}.vendorWrapper .playerHold{position:absolute;background-color:#64ADC5;overflow:hidden}.vendorWrapper .playerHold .dndAnimate{transition:top 0.5s ease-in, left 0.5s ease-in}.vendorWrapper .playerHold .playerInHold{position:absolute}.playerPreloader{position:fixed;display:flex;justify-content:center;align-items:center;left:0;top:0;width:100%;height:100%;background-color:#64ADC5}.playerPreloader .playerPreloadCircle{width:100px;height:100px;border-radius:50%;border:10px solid rgba(255,255,255,0.5);border-top:10px solid #ffffff;box-sizing:border-box;animation:preloadspin 1s linear infinite}@keyframes preloadspin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){"use strict";n.r(t),t.default=n.p+"internal/fonts/c430087a706cf2a89f21bc72c4abd745.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"internal/fonts/11263e847e4851dea50b7f0ffea006d6.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"internal/fonts/da51ec735ebd2894f91e56b64b779111.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"internal/fonts/cb2430fe4a7f564c97bec21113b17baa.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"internal/fonts/4bbde92d3f440918b593d2d38c2c00ed.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"internal/fonts/b0a6971ad4304cfd8625691cad8f8e27.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"internal/fonts/670ac14a31ecf0ee3cbe072b11f58cc0.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"internal/images/e9d774ed7300caca3604bedf5d2e4ec7.svg"},function(e,t,n){var r=n(1),o=n(17);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},function(e,t,n){(t=n(2)(!1)).push([e.i,".vendorWrapper .fullSize{position:absolute;width:1920px;height:900px;object-fit:cover}.vendorWrapper .fixedBackGround{background-color:#cdb69e}.vendorWrapper .backgroundMask{width:100%}.vendorWrapper .banner{position:absolute;width:180px;top:0px;border-radius:0 0 90px 90px;transition:height 0.1s linear;cursor:pointer}.vendorWrapper .banner.selected{height:475px !important}.vendorWrapper .closeButton{height:70px;width:70px;position:absolute;left:1540px;top:450px}.vendorWrapper .drawingSelectorHolder{position:absolute;height:410px;width:1090px;top:550px;left:420px}.vendorWrapper .drawingSelectorHolder .drawingSelector{width:218px;height:205px;display:inline-block;cursor:pointer}.vendorWrapper .drawingLayer{width:100%}.vendorWrapper .homeButton{position:absolute;width:70px;top:685px;left:360px;cursor:pointer}.vendorWrapper .bannerImg{position:absolute;bottom:15px;margin:30px;width:120px}.vendorWrapper .drawing{position:absolute;top:215px;left:610px;width:860px}.vendorWrapper .drawing *{opacity:1}.vendorWrapper .camera{position:absolute;top:220px;left:1420px;height:50px;cursor:pointer}.vendorWrapper .leftArrow{position:absolute;top:800px;left:750px;width:80px;height:80px;transform:scaleX(-1);cursor:pointer}.vendorWrapper .rightArrow{position:absolute;top:800px;left:1315px;width:80px;height:80px;cursor:pointer}.vendorWrapper .outerCircle{background:white;width:670px;position:absolute;height:670px;top:745px;left:740px;border-radius:335px;transition:transform 0.2s linear}.vendorWrapper .outerCircle svg{pointer-events:none}.vendorWrapper .outerCircle .innerCircle{background:#dfe2ef;width:650px;position:absolute;height:650px;top:10px;left:10px;border-radius:325px}.vendorWrapper .outerCircle .innerSmallCircle{background:white;width:390px;position:absolute;height:390px;top:138px;left:138px;border-radius:195px}.vendorWrapper .outerCircle .colorSelector{width:120px;position:absolute;height:120px;border-radius:60px;transform:scale(0.7);cursor:pointer}.vendorWrapper .outerCircle .colorSelector.colorSelector1{top:25px;left:208px}.vendorWrapper .outerCircle .colorSelector.colorSelector2{top:25px;left:342px}.vendorWrapper .outerCircle .colorSelector.colorSelector3{top:95px;left:455px}.vendorWrapper .outerCircle .colorSelector.colorSelector4{top:208px;left:520px}.vendorWrapper .outerCircle .colorSelector.colorSelector5{top:340px;left:520px}.vendorWrapper .outerCircle .colorSelector.colorSelector6{top:455px;left:455px}.vendorWrapper .outerCircle .colorSelector.colorSelector7{top:520px;left:342px}.vendorWrapper .outerCircle .colorSelector.colorSelector8{top:520px;left:208px}.vendorWrapper .outerCircle .colorSelector.colorSelector9{top:455px;left:90px}.vendorWrapper .outerCircle .colorSelector.colorSelector10{top:340px;left:28px}.vendorWrapper .outerCircle .colorSelector.colorSelector11{top:208px;left:28px}.vendorWrapper .outerCircle .colorSelector.colorSelector12{top:95px;left:90px}.vendorWrapper .tools{position:absolute;transform:scale(0.75);cursor:pointer}.vendorWrapper .tools.pastel{top:280px;left:200px}.vendorWrapper .tools.brush{top:360px;left:200px}.vendorWrapper .tools.sketch{top:460px;left:200px}.vendorWrapper .tools.eraser{top:580px;left:330px}.vendorWrapper .pop{animation:pop .8s linear 1}@keyframes pop{50%{transform:scale(1.2)}}.vendorWrapper .launchTitle{position:absolute;left:calc(50% - 243px);top:361px;width:486px}.vendorWrapper .toolHolder{position:absolute;left:0px;top:0px;pointer-events:none}.vendorWrapper .toolHolder.pastel{height:184px;width:216px;transform:translate(-3px, -168px)}.vendorWrapper .toolHolder.brush{height:193px;width:230px;transform:translate(4px, -170px)}.vendorWrapper .toolHolder.sketch{height:140px;width:170px;transform:translateY(-125px)}.vendorWrapper .toolHolder.eraser{height:102px;width:126px;transform:translate(-25px, -92px)}.vendorWrapper .vendorPlayerButtonLocal{pointer-events:all;position:absolute;width:180px;top:660px;left:calc(50% - 90px);cursor:pointer}.vendorWrapper .vendorPlayerButtonLocal:active{transform:scale(0.9)}\n",""]),e.exports=t},function(e,t,n){"use strict";n.r(t);var r={};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(r),n.d(r,"playButton",(function(){return Q})),n.d(r,"backgroundMask",(function(){return Z})),n.d(r,"transportCat",(function(){return K})),n.d(r,"fruitCat",(function(){return ee})),n.d(r,"vegetableCat",(function(){return te})),n.d(r,"homeCat",(function(){return ne})),n.d(r,"schoolCat",(function(){return re})),n.d(r,"animalCat",(function(){return oe})),n.d(r,"launchTitle",(function(){return ie})),n.d(r,"arrow",(function(){return le})),n.d(r,"colorHolder",(function(){return se})),n.d(r,"drawingLayer",(function(){return ae})),n.d(r,"fruit1",(function(){return Ae})),n.d(r,"fruit2",(function(){return ke})),n.d(r,"fruit3",(function(){return xe})),n.d(r,"fruit4",(function(){return Se})),n.d(r,"fruit5",(function(){return Te})),n.d(r,"fruit6",(function(){return Ce})),n.d(r,"fruit7",(function(){return Ee})),n.d(r,"fruit8",(function(){return Pe})),n.d(r,"fruit9",(function(){return Be})),n.d(r,"fruit10",(function(){return Le})),n.d(r,"animal1",(function(){return Me})),n.d(r,"animal2",(function(){return Ie})),n.d(r,"animal3",(function(){return Oe})),n.d(r,"animal4",(function(){return He})),n.d(r,"animal5",(function(){return We})),n.d(r,"animal6",(function(){return je})),n.d(r,"animal7",(function(){return De})),n.d(r,"animal8",(function(){return Re})),n.d(r,"animal9",(function(){return Fe})),n.d(r,"animal10",(function(){return Ne})),n.d(r,"home1",(function(){return ze})),n.d(r,"home2",(function(){return Ge})),n.d(r,"home3",(function(){return qe})),n.d(r,"home4",(function(){return Ve})),n.d(r,"home5",(function(){return Je})),n.d(r,"home6",(function(){return Xe})),n.d(r,"home7",(function(){return Ue})),n.d(r,"home8",(function(){return Ye})),n.d(r,"home9",(function(){return $e})),n.d(r,"home10",(function(){return Qe})),n.d(r,"school1",(function(){return Ze})),n.d(r,"school2",(function(){return Ke})),n.d(r,"school3",(function(){return et})),n.d(r,"school4",(function(){return tt})),n.d(r,"school5",(function(){return nt})),n.d(r,"school6",(function(){return rt})),n.d(r,"school7",(function(){return ot})),n.d(r,"school8",(function(){return it})),n.d(r,"school9",(function(){return at})),n.d(r,"school10",(function(){return st})),n.d(r,"transport1",(function(){return lt})),n.d(r,"transport2",(function(){return ct})),n.d(r,"transport3",(function(){return ut})),n.d(r,"transport4",(function(){return dt})),n.d(r,"transport5",(function(){return pt})),n.d(r,"transport6",(function(){return ft})),n.d(r,"transport7",(function(){return ht})),n.d(r,"transport8",(function(){return vt})),n.d(r,"transport9",(function(){return mt})),n.d(r,"transport10",(function(){return _t})),n.d(r,"vegetable1",(function(){return gt})),n.d(r,"vegetable2",(function(){return yt})),n.d(r,"vegetable3",(function(){return bt})),n.d(r,"vegetable4",(function(){return wt})),n.d(r,"vegetable5",(function(){return At})),n.d(r,"vegetable6",(function(){return kt})),n.d(r,"vegetable7",(function(){return xt})),n.d(r,"vegetable8",(function(){return St})),n.d(r,"vegetable9",(function(){return Tt})),n.d(r,"vegetable10",(function(){return Ct})),n.d(r,"pensilActive",(function(){return ce})),n.d(r,"pensilStatic",(function(){return ue})),n.d(r,"brushActive",(function(){return de})),n.d(r,"brushStatic",(function(){return pe})),n.d(r,"sketchActive",(function(){return fe})),n.d(r,"sketchStatic",(function(){return he})),n.d(r,"eraserActive",(function(){return ve})),n.d(r,"eraserStatic",(function(){return me})),n.d(r,"homeButton",(function(){return _e})),n.d(r,"closeButton",(function(){return ge})),n.d(r,"pastelMask",(function(){return ye})),n.d(r,"sketchPenMask",(function(){return be})),n.d(r,"camera",(function(){return we}));var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"loadFile",value:function(e){return new Promise((function(t){var n=new XMLHttpRequest;n.addEventListener("readystatechange",(function(e){var n=e.target;4===n.readyState&&200===n.status&&t(e)})),n.open("GET",e,!0),n.send()}))}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),a=n(0),s=n(3);function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"square",value:function(e){return Math.pow(e,2)}},{key:"squareRoot",value:function(e){return Math.sqrt(e)}},{key:"getDistance",value:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"getAngle",value:function(e,t,n,r){return Math.atan2(r-t,n-e)}},{key:"getRandomRealInclusive",value:function(e,t,n){var r=Math.ceil(e),o=Math.floor(t),i=Math.random()*(o-r+1)+r;return i>o&&i--,i<r&&i++,i=parseFloat(i.toFixed(n))}},{key:"getRandomIntInclusive",value:function(e,t){var n=Math.ceil(e),r=Math.floor(t);return Math.floor(Math.random()*(r-n+1))+n}},{key:"isInt",value:function(e){return-1===String(e).indexOf(".")}},{key:"shuffleArray",value:function(e){for(var t,n,r=e.length,o=l(e);0!==r;)n=Math.floor(Math.random()*r),t=o[r-=1],o[r]=o[n],o[n]=t;return o}},{key:"stringInsert",value:function(e,t){return"".concat(this.slice(0,e)).concat(t).concat(this.slice(e,this.length))}},{key:"deleteFromIndex",value:function(e){return"".concat(this.slice(0,e)).concat(this.slice(e+1,this.length))}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onStreamEvent=this.onStreamEvent.bind(this),this.globalSounds=new a.Howl(s),this.bgmSounds=null,this.bgmPool=["bgm01","bgm02","bgm03"],this.correctPool=["goodjob","hurray","welldone"],this.streamProp=null,this.streamRef=new Audio,this.streamRef.addEventListener("timeupdate",this.onStreamEvent),this.streamRef.addEventListener("ended",this.onStreamEvent),this.streamRef.addEventListener("error",this.onStreamEvent)}var t,n,r;return t=e,(n=[{key:"playGlobal",value:function(e){this.globalSounds.play(e)}},{key:"playReplayAudio",value:function(){new a.Howl({src:"internal/audio/replayAudio.mp3",autoplay:!0,loop:!1,volume:1})}},{key:"playStream",value:function(e){return this.streamRef.src=e.src,this.streamProp={id:e.id,event:e.event},this.streamRef.volume=e.volume||1,this.streamRef.play(),this.streamRef}},{key:"pauseStream",value:function(){this.streamRef.pause()}},{key:"resumeStream",value:function(){this.streamRef.play()}},{key:"onStreamEvent",value:function(e){this.streamProp&&"function"==typeof this.streamProp.event&&(e.id=this.streamProp.id,this.streamProp.event(e))}},{key:"playLocalBGM",value:function(e){this.stopBGM(),this.bgmSounds=new a.Howl({src:e,autoplay:!0,loop:!0,volume:.5})}},{key:"playBGM",value:function(e){this.stopBGM();var t=d.shuffleArray(this.bgmPool),n=void 0===e?t[0]:this.bgmPool[e];this.bgmSounds=new a.Howl({src:"internal/audio/".concat(n,".mp3"),autoplay:!0,loop:!0,volume:.5})}},{key:"stopBGM",value:function(){null!==this.bgmSounds&&(this.bgmSounds.unload(),this.bgmSounds=null)}},{key:"playCorrect",value:function(e){var t=d.shuffleArray(this.correctPool);this.playStream({src:"internal/audio/".concat(t[0],".mp3"),event:e})}},{key:"destroy",value:function(){this.streamProp=null,this.streamRef.src=null}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());n(5);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var m=v((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewData={vendorWrapper:null,actWrapper:null,innerWrapper:null,mobileScreen:!1,mobileScreenLimit:700,outerWidth:1920,outerHeight:900,actSize:{desktop:{width:1200,height:800},device:{width:1400,height:725}}}}));function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"platformAndroid",value:function(){return!!navigator.userAgent.match(/Android/i)}},{key:"platformBlackBerry",value:function(){return!!navigator.userAgent.match(/BlackBerry/i)}},{key:"platformIOS",value:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.maxTouchPoints>0&&void 0!==window.orientation}},{key:"platfromIphone",value:function(){return navigator.userAgent.match(/iPhone/i)}},{key:"platformWindows",value:function(){return!!navigator.userAgent.match(/IEMobile/i)}},{key:"isDevice",value:function(){return this.platformAndroid()||this.platformBlackBerry()||this.platformIOS()||this.platformWindows()}},{key:"ie9",value:function(){return!!navigator.userAgent.match(/MSIE 9.0/i)}},{key:"ie10",value:function(){return!!navigator.userAgent.match(/MSIE 10.0/i)}},{key:"ie",value:function(){return"Microsoft Internet Explorer"===navigator.appName||!(!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/rv:11/))||navigator.userAgent.indexOf("MSIE")>0||!!navigator.userAgent.match(/Edge\/\d./i)||!!navigator.userAgent.match(/MSIE 9.0/i)||!!navigator.userAgent.match(/MSIE 10.0/i)}}])&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.browserDetect=new g}var t,n,r;return t=e,(n=[{key:"getScaleValue",value:function(e){var t=window.vendorModel.viewData.actSize.desktop.width,n=window.vendorModel.viewData.actSize.desktop.height;return window.vendorModel.viewData.mobileScreen&&(t=window.vendorModel.viewData.actSize.device.width,n=window.vendorModel.viewData.actSize.device.height),this.calculateScaleVal({w:t,h:n})}},{key:"calculateScaleVal",value:function(e){var t,n,r=e.w,o=e.h,i=window.innerWidth,a=window.innerHeight,s=1,l=1;return a<i?(t=a,s=Number(o/t),n=r/o*t,i/2-Number(n)/2<0&&(n=i,s=Number(r/n),t=o/r*n),l=1/s):(t=o/r*(n=i),l=1/(s=Number(r/n))),{w:Math.round(r*l),h:Math.round(o*l),scale:l,x:Math.round(window.innerWidth/2-Number(n)/2),y:Math.round(window.innerHeight/2-Number(t)/2)}}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=document.createElement("div"),this.target.className="vendorPortLayer";var t=document.createElement("div");t.className="vendorTextBox",t.innerHTML="<p>Best viewed on landscape mode.</p><p>Please rotate the device.</p>",this.target.appendChild(t),this.added=!1}var t,n,r;return t=e,(n=[{key:"checkOrientation",value:function(){0===window.orientation?(document.body.appendChild(this.target),this.added=!0):this.added&&(document.body.removeChild(this.target),this.added=!1)}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.browserDetect=new g,this.timeout=0,this.onResize=this.onResize.bind(this)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){console.log("Resize init"),this.vendorWrapper=e.vendorWrapper,this.wrapp=e.playerHold,this.inwrapp=e.playerInHold,window.addEventListener("resize",this.onResize),this.onResize()}},{key:"onResize",value:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){var t=window.vendorModel.viewData;t.mobileScreen=t.mobileScreenLimit>window.innerHeight,t.mobileScreen?(e.vendorWrapper.classList.remove("vendorDesktop"),e.vendorWrapper.classList.add("vendorDevice")):(e.vendorWrapper.classList.remove("vendorDevice"),e.vendorWrapper.classList.add("vendorDesktop")),e.outerWid=t.outerWidth,e.outerHgt=t.outerHeight,t.mobileScreen?(e.wid=t.actSize.device.width,e.hgt=t.actSize.device.height,e.timeoutInterval=500):(e.wid=t.actSize.desktop.width,e.hgt=t.actSize.desktop.height,e.timeoutInterval=10),e.diffX=e.outerWid/2-e.wid/2,e.diffY=e.outerHgt/2-e.hgt/2,e.inwrapp.style.left="".concat(e.diffX,"px"),e.inwrapp.style.top="".concat(e.outerHgt-e.hgt,"px"),e.inwrapp.style.width="".concat(e.wid,"px"),e.inwrapp.style.height="".concat(e.hgt,"px"),e.wrapp.style.width="".concat(e.outerWid,"px"),e.wrapp.style.height="".concat(e.outerHgt,"px"),e.wrapp.style.transformOrigin="".concat(e.diffX,"px ").concat(e.outerHgt,"px"),e.scale=b.getScaleValue(),e.wrapp.style.left="".concat(e.scale.x-e.diffX,"px"),e.wrapp.style.bottom="0px",e.wrapp.style.transform="scale(".concat(e.scale.scale,")"),A.checkOrientation()}),this.timeoutInterval)}}])&&k(t.prototype,n),r&&k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var C=new(T((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=new g;this.isDevice=t.isDevice(),this.down=this.isDevice?"touchstart":"mousedown",this.move=this.isDevice?"touchmove":"mousemove",this.up=this.isDevice?"touchend":"mouseup",this.click="click"})));function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onMouseMove=this.onMouseMove.bind(this),this.inited=!1}var t,n,r;return t=e,(n=[{key:"init",value:function(e){this.inited||(this.vendorWrapper=e.vendorWrapper,this.vendorCartoonHand=document.createElement("div"),this.vendorCartoonHand.className="vendorCartoonHand",this.handShowing=!1,this.inited=!0)}},{key:"hide",value:function(){this.vendorWrapper.classList.add("vendorNoPointer")}},{key:"show",value:function(){this.vendorWrapper.classList.remove("vendorNoPointer")}},{key:"showHand",value:function(){}},{key:"hideHand",value:function(){}},{key:"onMouseMove",value:function(e){this.vendorCartoonHand.style.left="".concat(e.pageX-5,"px"),this.vendorCartoonHand.style.top="".concat(e.pageY-5,"px")}}])&&E(t.prototype,n),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),B=n.p+"internal/images/a1e1f52319b506434f4ab8dc925732e6.svg",L=n.p+"internal/images/b713d8ad043fa46008a2e0a938a79d11.svg";function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){console.log("UIButtons",e),this.vendorWrapper=e.vendorWrapper,this.target=document.createElement("div"),this.target.className="vendorPlayerHolder",this.vendorWrapper.appendChild(this.target),this.skipCallback=null,this.replayCallback=null,this.reloadButton=document.createElement("div"),this.reloadButton.className="vendorPlayerButton",this.reloadButton.style.backgroundImage="url(".concat(B,")"),this.target.appendChild(this.reloadButton),this.reloadButton.addEventListener(C.click,this.onReplayEvent.bind(this)),this.skipButton=document.createElement("div"),this.skipButton.className="vendorPlayerButton",this.skipButton.style.backgroundImage="url(".concat(L,")"),this.target.appendChild(this.skipButton),this.skipButton.addEventListener(C.click,this.onSkipEvent.bind(this)),this.reloadEndButton=document.createElement("div"),this.reloadEndButton.className="vendorEndButton",this.reloadEndButton.style.backgroundImage="url(".concat(B,")"),this.target.appendChild(this.reloadEndButton),this.reloadEndButton.addEventListener(C.click,this.onReplayEndEvent.bind(this)),window.addEventListener("resize",this.onResize.bind(this)),this.onResize()}},{key:"showReplay",value:function(e){void 0!==e&&(this.replayCallback="function"==typeof e.callback?e.callback:null),this.reloadButton.classList.add("show"),this.onResize()}},{key:"hideReplay",value:function(){this.reloadButton.classList.remove("show"),this.replayCallback=null,this.onResize()}},{key:"showEndReplay",value:function(){this.reloadEndButton.classList.add("show"),this.onResize()}},{key:"hideEndReplay",value:function(){this.reloadEndButton.classList.remove("show"),this.onResize()}},{key:"showSkip",value:function(e){void 0!==e&&(this.skipCallback="function"==typeof e.callback?e.callback:null),this.skipButton.classList.add("show"),this.onResize()}},{key:"hideSkip",value:function(){this.skipButton.classList.remove("show"),this.skipCallback=null,this.onResize()}},{key:"onResize",value:function(){var e=b.getScaleValue().scale;this.target.style.transform="scale(".concat(e,")")}},{key:"onReplayEvent",value:function(){null!==this.replayCallback&&this.replayCallback()}},{key:"onReplayEndEvent",value:function(e){location.reload()}},{key:"onSkipEvent",value:function(){null!==this.skipCallback&&this.skipCallback()}}])&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),O=n.p+"internal/images/e2272df44fee7027fcbfc7a308f9983f.svg",H=n.p+"internal/images/2474c3be06cb07a2a9e54c04836f4278.svg",W=n.p+"internal/images/96b574a3d94b4e020b100669c8084fd0.svg",j=n.p+"internal/images/db76136c4b806ffeceea5830ed8a4573.svg",D=n.p+"internal/images/86c7523264c801cf706b1e472cf47677.svg";function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){this.defBaseColor="#999999",this.defTopColor="#606060",this.highBaseColor="#f8da48",this.highTopColor="#f6ae0d",this.totalProgress=5,this.vendorWrapper=e.vendorWrapper,this.target=document.createElement("div"),this.target.className="vendorProInHolder",this.vendorWrapper.appendChild(this.target),this.setTotal5(),window.addEventListener("resize",this.onResize.bind(this)),this.onResize()}},{key:"setTotal3",value:function(){this.totalProgress=3,this.loadFile(O)}},{key:"setTotal4",value:function(){this.totalProgress=4,this.loadFile(H)}},{key:"setTotal5",value:function(){this.totalProgress=5,this.loadFile(W)}},{key:"setTotal6",value:function(){this.totalProgress=6,this.loadFile(j)}},{key:"setTotal7",value:function(){this.totalProgress=7,this.loadFile(D)}},{key:"loadFile",value:function(e){var t=this;i.loadFile(e).then((function(e){t.target.innerHTML=e.target.response}))}},{key:"setProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;console.log("setProgress",e);for(var t=1;t<=this.totalProgress;t++)if(t<=e){var n=document.querySelector("#base".concat(t));null!==n&&(n.style.fill=this.highBaseColor);var r=document.querySelector("#top".concat(t));null!==r&&(r.style.fill=this.highTopColor)}}},{key:"show",value:function(){this.target.style.removeProperty("display")}},{key:"hide",value:function(){this.target.style.display="none"}},{key:"onResize",value:function(){var e=b.getScaleValue().scale;this.target.style.transform="scale(".concat(e,")")}}])&&R(t.prototype,n),r&&R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("ViEW"),this.browserDetect=new g,this.resizeObj=new x,this.actAreas={width:0,height:0},this.vendorWrapper=document.createElement("div"),this.vendorWrapper.className="vendorWrapper",document.body.appendChild(this.vendorWrapper),this.playerHold=document.createElement("div"),this.playerHold.className="playerHold",this.vendorWrapper.appendChild(this.playerHold),this.playerInHold=document.createElement("div"),this.playerInHold.className="playerInHold"}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.resizeObj.init({vendorWrapper:this.vendorWrapper,playerHold:this.playerHold,playerInHold:this.playerInHold}),P.init({vendorWrapper:this.vendorWrapper}),I.init({vendorWrapper:this.vendorWrapper}),F.init({vendorWrapper:this.vendorWrapper})}},{key:"getActArea",value:function(){return this.playerHold}}])&&N(t.prototype,n),r&&N(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function G(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playerPreloader=document.createElement("div"),this.playerPreloader.className="playerPreloader",document.body.appendChild(this.playerPreloader),this.playerPreloadCircle=document.createElement("div"),this.playerPreloadCircle.className="playerPreloadCircle",this.playerPreloader.appendChild(this.playerPreloadCircle),this.lazySequence=null,this.lazySequenceIndex=0}var t,n,r;return t=e,(n=[{key:"loadAssetFiles",value:function(){var e=this;return new Promise((function(t){i.loadFile("internal/data/assetsManifest.json").then((function(n){e.assetsObj=JSON.parse(n.target.responseText),e.loadAssets().then((function(){t(),document.body.removeChild(e.playerPreloader)}))}))}))}},{key:"loadAssets",value:function(){var e=this;return new Promise((function(t){var n=0;e.assetsObj.files.length>0?e.assetsObj.files.forEach((function(r){i.loadFile(r).then((function(r){++n>=e.assetsObj.files.length&&t()}))})):t()}))}},{key:"setLazySequence",value:function(e){console.log("setLazySequence",e),this.lazySequence=G(e),this.lazySequenceIndex=0,this.loadLazyInSequence()}},{key:"loadLazyInSequence",value:function(){var e=this,t=this.lazySequence[this.lazySequenceIndex],n=t.length;t.length>0?t.forEach((function(t){i.loadFile(t).then((function(){--n<=0&&e.loadNextLazySeq()}))})):this.loadNextLazySeq()}},{key:"loadNextLazySeq",value:function(){this.lazySequenceIndex++,this.lazySequenceIndex<this.lazySequence.length?this.loadLazyInSequence():console.log("All Lazy Loaded!!")}},{key:"startLazy",value:function(){setTimeout(this.loadLazy.bind(this),1e3)}},{key:"loadLazy",value:function(){this.assetsObj.lazyload.length>0&&this.assetsObj.lazyload.forEach((function(e){i.loadFile(e)}))}}])&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("Controller",t),this.actEvent=void 0!==t.actEvent?t.actEvent:function(){},window.vendorModel=new m,this.view=new z}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=this;console.log("Controller init"),this.view.init(),J.loadAssetFiles().then((function(t){e.onAllLoaded()}))}},{key:"onAllLoaded",value:function(){var e=this;setTimeout((function(){e.actEvent({type:"initiateInit"})}),500)}},{key:"getActArea",value:function(){return this.view.getActArea()}}])&&X(t.prototype,n),r&&X(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("Base Activity class"),this.controllerEvent=this.controllerEvent.bind(this),this.controller=new U({actEvent:this.controllerEvent}),this.controller.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){console.log("Base Activity init"),this.actArea=this.controller.getActArea(),this.ready()}},{key:"controllerEvent",value:function(e){switch(console.log("Activity controllerEvent",e),e.type){case"initiateInit":this.init()}}}])&&Y(t.prototype,n),r&&Y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Q=(n(16),n.p+"internal/images/17dc2210f907a568987b8d8d8f16aff3.svg"),Z=n.p+"internal/images/0a31eabcb18bf0d26fecb4d78da86ad4.svg",K=n.p+"internal/images/aae10ee5422574613c2eecf1d8617e29.svg",ee=n.p+"internal/images/2d83852375889bd5eb15964d87e6ac4a.svg",te=n.p+"internal/images/2fe1f97cd929556f079a7bd745e2edb5.svg",ne=n.p+"internal/images/def17eb55f348cad815ab6f22ea48846.svg",re=n.p+"internal/images/fac7d65876d9a6e2bbccce369cf60ba4.svg",oe=n.p+"internal/images/e53735586810e536243b36382b77f484.svg",ie=n.p+"internal/images/1614f8233da614ad3bc80fb5ee20df59.svg",ae=n.p+"internal/images/f9a818204171623d92e8db3e1ae0f7bc.svg",se=n.p+"internal/images/cebe66c2ca1cdc270e5c134dab18fdba.svg",le=n.p+"internal/images/003d10a0e13dc40b05a80fc842b0294f.svg",ce=n.p+"internal/images/b3206a5fa5e769244edd14cfeeed6f69.svg",ue=n.p+"internal/images/a306a6c31ce267f5033e006ff7988c1d.svg",de=n.p+"internal/images/1dee4eab02b4e418e79b74226b8621f5.svg",pe=n.p+"internal/images/f141252308040858ae5177ac61af9b0e.svg",fe=n.p+"internal/images/24c4e63575d19e4e511bc9aad1c9dd8a.svg",he=n.p+"internal/images/3c26ae4ada43012dc538f1a2bd398122.svg",ve=n.p+"internal/images/b60c8b40382dbd65b7efef994a09dfdb.svg",me=n.p+"internal/images/f2639b30fe332efc147f3de80c19fde5.svg",_e=n.p+"internal/images/aef4ae36e7d0d461fd1cc06dc610c792.svg",ge=n.p+"internal/images/043ed523e30c43cd9fc81cdc4ea6a09b.svg",ye=n.p+"internal/images/b94bc6d1622b6b89553d3c853bea4e74.svg",be=n.p+"internal/images/6d71713b2c7207b5bde20a89af477cb4.svg",we=n.p+"internal/images/07cdd4c5dc07ff860786ed4664756e7f.svg",Ae=n.p+"internal/images/f7c00e4111d74b4f35d59ed09e087c99.svg",ke=n.p+"internal/images/2015f83e07dad409aadc4a04d4d31e94.svg",xe=n.p+"internal/images/5e5dd9d16bb541f3167443549bbb5313.svg",Se=n.p+"internal/images/f0dccd7e133d93acee6ff4a96f50b48f.svg",Te=n.p+"internal/images/7ebacead72b5f8eb3ac77a61a7a9b807.svg",Ce=n.p+"internal/images/f4b314e1c0753c64a72dbf2b2135cc7f.svg",Ee=n.p+"internal/images/7417da0f272b881d7faec8c69685d4fc.svg",Pe=n.p+"internal/images/b8b570f49b23f1220a13da4b9b9137b7.svg",Be=n.p+"internal/images/1fbe10d1083420bab56061402b17858f.svg",Le=n.p+"internal/images/0cbc19914f43dfc9f5648feb94f679f7.svg",Me=n.p+"internal/images/28d153c4dd1098d2968058d8ed110c5d.svg",Ie=n.p+"internal/images/6a3ebb545ea7880aedb961044747106b.svg",Oe=n.p+"internal/images/b16e6f8e916ac8e1d913288b459f323c.svg",He=n.p+"internal/images/34131389079eeb085540c3a87635eb0d.svg",We=n.p+"internal/images/2192a7c6e9847f89f700f781dc4fa54f.svg",je=n.p+"internal/images/3e5fd75bfe2c1dfe8e97ec0ca9c3fa1b.svg",De=n.p+"internal/images/f71dfdcbe0b7ebe2cc5a86d061d4a142.svg",Re=n.p+"internal/images/70eb21d29f1d47b8ae2312ad69e61d6d.svg",Fe=n.p+"internal/images/3210d79b7c358f3677b963b74c4cc28a.svg",Ne=n.p+"internal/images/941b028631ead9084c18afd874109403.svg",ze=n.p+"internal/images/a7932ad16ef3ab4e1a9538d2d5c38ac1.svg",Ge=n.p+"internal/images/b54c0a02bc1c99b7e92e2918096c9601.svg",qe=n.p+"internal/images/ca84ce9ec00ecdf474bb77a1497bed13.svg",Ve=n.p+"internal/images/f01b3851b97095ceb8cb4b273ea87a6b.svg",Je=n.p+"internal/images/9de2362a57e35219621a011597edb5d9.svg",Xe=n.p+"internal/images/96d79c33fc65ad5bc0d9f6e3105b83ec.svg",Ue=n.p+"internal/images/424aefb8a448f2dcb6a49a3e4d974589.svg",Ye=n.p+"internal/images/e10fe1791cd80d831fe92cd01f85a498.svg",$e=n.p+"internal/images/b253103fe0a8cccf34f6c6b5e7ca462b.svg",Qe=n.p+"internal/images/671f01aec110374a78ff264a3e75373e.svg",Ze=n.p+"internal/images/41514bf87d00b0d41a5956f2fb56617c.svg",Ke=n.p+"internal/images/ce7c3f69e94ccca3282713cbce7abd33.svg",et=n.p+"internal/images/d5835b130383f6555e7756929693eef9.svg",tt=n.p+"internal/images/90d54db26f0b0cb24cd3da5911829262.svg",nt=n.p+"internal/images/d4a2774a1f3f6fa5f9e27226722c9df7.svg",rt=n.p+"internal/images/8284c28dc42ce929e9f40a5bbdf77d8e.svg",ot=n.p+"internal/images/5d1656c77373714ef94ad6ef5e20fe6b.svg",it=n.p+"internal/images/056ced7e232eeb2ad7d8d69a63fa1570.svg",at=n.p+"internal/images/4173c339c6b30de95b808eff70f6f5d4.svg",st=n.p+"internal/images/5f4e0fd652f96bfc3bd62795332a0131.svg",lt=n.p+"internal/images/299ce01c0b085bbfa6c54909ee386dc5.svg",ct=n.p+"internal/images/2b84b4e3fdc7ea2d940323f81a8b4628.svg",ut=n.p+"internal/images/8feaf584e72725a7c0683eb5dc5fb578.svg",dt=n.p+"internal/images/be4bb6350294a19c31f3be88ef4a35a9.svg",pt=n.p+"internal/images/e700967e9d516fb2c283137603684353.svg",ft=n.p+"internal/images/d37bfacb77f0a51dd4c373d2cbf7dab6.svg",ht=n.p+"internal/images/1260b2d34c0fa485cb5d7fc53b240171.svg",vt=n.p+"internal/images/c2d3e4b1cc73259849a8421a02ba9221.svg",mt=n.p+"internal/images/842c930bebfab558860f4402a0664984.svg",_t=n.p+"internal/images/72d6a1e91fc409c72825b834774feedf.svg",gt=n.p+"internal/images/36a3aa8988f9bf1f94024a1812106f9a.svg",yt=n.p+"internal/images/3a7231d7e838895434e02ccb71222b13.svg",bt=n.p+"internal/images/7ab9254c220e61d9149d82291044c4d4.svg",wt=n.p+"internal/images/30a4727b83cfc4417e39fcac95d80a66.svg",At=n.p+"internal/images/dcb96c35905621f347e8e4315f7d2a38.svg",kt=n.p+"internal/images/bff46e8f450437210d89db9c18818a9c.svg",xt=n.p+"internal/images/8a57b2650c9a098bd5e0f4403b1d7872.svg",St=n.p+"internal/images/b540554883839dfe784ab0cf814f6f26.svg",Tt=n.p+"internal/images/3cb3d40e7d6495c837b04267dbf9cc4f.svg",Ct=n.p+"internal/images/8dffb54f20f7b3254e205cf858b93e9a.svg";function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Lt={1:"pastel",2:"brush",3:"sketch"},Mt=function(){function e(t){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(e){f.destroy(),f.playStream({src:"internal/audio/"+e})},(r="audioManager")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.activityClass=t.activityClass,this.selectedBanner="transportCat",this.selectedDrawing=void 0,this.selectedTool=void 0,this.selectedColor="white",this.currentAngle=0,this.drawingAudioPlayed=!1,this.eraserAudioPlayed=!1,this.colorPenAudioPlayed=!1,this.crayonAudioPlayed=!1,this.paintBrushAudioPlayed=!1,this.createScreen=this.createScreen.bind(this),this.onStreamEvent=this.onStreamEvent.bind(this),this.bannerClicked=this.bannerClicked.bind(this),this.startActivity=this.startActivity.bind(this),this.backToActivity=this.backToActivity.bind(this),this.CheckIdleTime=this.CheckIdleTime.bind(this),this.resetIdleTime=this.resetIdleTime.bind(this),this.moveLeft=this.moveLeft.bind(this),this.moveRight=this.moveRight.bind(this),this.areaClicked=this.areaClicked.bind(this),this.changeSelectedColor=this.changeSelectedColor.bind(this),this.setSelectedTool=this.setSelectedTool.bind(this),this.goToHome=this.goToHome.bind(this),this.playToolVOIfNotPlayedAlready=this.playToolVOIfNotPlayedAlready.bind(this),this.downloadSVG=this.downloadSVG.bind(this),this.IDLE_TIMEOUT=60,this._idleSecondsCounter=0,document.addEventListener(C.click,this.resetIdleTime),document.addEventListener(C.move,this.resetIdleTime),window.setInterval(this.CheckIdleTime,1e3)}var t,n,r;return t=e,(n=[{key:"resetIdleTime",value:function(){this._idleSecondsCounter=0}},{key:"CheckIdleTime",value:function(){if(this._idleSecondsCounter++,this._idleSecondsCounter>=this.IDLE_TIMEOUT)switch(this._idleSecondsCounter=0,this.currentScreen){case"menu":f.playStream({src:"internal/audio/audio_4.wav"});break;case"drawing":f.playStream({src:"internal/audio/audio_6.wav"})}}},{key:"createScreen",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.audioManager("tap.mp3"),this.activityClass.mainDivPart.remove(),this.activityClass.createDOM(),this.currentScreen="menu",t&&f.playStream({src:"internal/audio/audio_2.wav",event:function(t){return e.onStreamEvent(t,"audio_2")}})}},{key:"startActivity",value:function(e){var t=this;if(this.audioManager("tap.mp3"),this.selectedDrawing=e.target.getAttribute("data-value"),!this.drawingAudioPlayed){this.drawingAudioPlayed=!0,f.playStream({src:"internal/audio/audio_5.wav",event:function(e){return t.onStreamEvent(e,"audio_5")}});var n=1,r=setInterval((function(){4===n?(clearInterval(r),document.querySelectorAll(".tools").forEach((function(e){return e.classList.remove("pop")}))):document.getElementsByClassName(Lt[n])[0].classList.add("pop"),n++}),1400);setTimeout((function(){t.moveRight()}),9200)}this.currentScreen="drawing",this.activityClass.createActivityArea(),this.activityClass.createDrawing(),this.activityClass.createTools(),this.activityClass.createColorPlate()}},{key:"goToHome",value:function(){this.audioManager("tap.mp3"),this.currentScreen="menu",this.activityClass.drawingTool.hideTool(),P.showHand(),this.activityClass.appendCloseButton(),this.activityClass.mainDivPart.style.display="block",this.activityClass.activityArea.style.display="none"}},{key:"backToActivity",value:function(){this.audioManager("tap.mp3"),this.currentScreen="drawing",this.activityClass.mainDivPart.style.display="none",this.activityClass.activityArea.style.display="block",this.activityClass.removeCloseButton()}},{key:"downloadSVG",value:function(){var e=this.activityClass.drawing.innerHTML,t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="drawing.svg",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},{key:"bannerClicked",value:function(e,t){if(this.audioManager("tap.mp3"),this.selectedBanner!==t){this.selectedBanner=t;for(var n=0,r=Object.entries(this.activityClass.categoriesHolder);n<r.length;n++){var o=Et(r[n],2),i=o[0],a=o[1];this.selectedBanner!==i&&a.setSelected(!1)}this.activityClass.populateDrawingSelector()}}},{key:"areaClicked",value:function(e){this.selectedTool&&(this.audioManager("tap.mp3"),e.target.style.fill=this.selectedColor,"pastel"===this.selectedTool||"sketch"===this.selectedTool?e.target.setAttribute("mask","url(#".concat("pastel"===this.selectedTool?"pastelMask":"sketchPenMask",")")):e.target.removeAttribute("mask"))}},{key:"playToolVOIfNotPlayedAlready",value:function(){switch(this.selectedTool){case"eraser":this.eraserAudioPlayed||(this.eraserAudioPlayed=!0,f.playStream({src:"internal/audio/eraser.wav"}));break;case"pastel":this.crayonAudioPlayed||(this.crayonAudioPlayed=!0,f.playStream({src:"internal/audio/crayon.wav"}));break;case"sketch":this.colorPenAudioPlayed||(this.colorPenAudioPlayed=!0,f.playStream({src:"internal/audio/color-pen.wav"}));break;case"brush":this.paintBrushAudioPlayed||(this.paintBrushAudioPlayed=!0,f.playStream({src:"internal/audio/paint-brush.wav"}))}}},{key:"changeSelectedColor",value:function(e){this.audioManager("tap.mp3"),"eraser"!==this.selectedTool&&(this.selectedColor=e.target.getAttribute("data-color"),this.activityClass.drawingTool.changeColor(this.selectedColor))}},{key:"setSelectedTool",value:function(e){document.querySelectorAll(".tools").forEach((function(e){return e.style.display="block"})),e.currentTarget.style.display="none",this.audioManager("tap.mp3"),P.hideHand(),this.selectedTool=e.target.getAttribute("data-toolType"),this.activityClass.drawingTool.showTool(e,this.selectedTool,this.selectedColor),this.playToolVOIfNotPlayedAlready(this.selectedTool),"eraser"===this.selectedTool&&(this.selectedColor="white")}},{key:"moveLeft",value:function(){this.audioManager("tap.mp3"),this.currentAngle-=30,this.activityClass.outerCircle.style.transform="rotate(".concat(this.currentAngle,"deg)")}},{key:"moveRight",value:function(e){e&&this.audioManager("tap.mp3"),this.currentAngle+=30,this.activityClass.outerCircle.style.transform="rotate(".concat(this.currentAngle,"deg)")}},{key:"onStreamEvent",value:function(e,t){var n=this;switch(e.type){case"timeupdate":break;case"ended":switch(t){case"audio_5":f.playStream({src:"internal/audio/audio_5.1.wav"}),setTimeout((function(){n.activityClass.homeButton.addEventListener("animationend",(function(){return n.activityClass.homeButton.classList.remove("pop")})),n.activityClass.homeButton.classList.add("pop")}),500)}}}}])&&Bt(t.prototype,n),r&&Bt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ot=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,this.selected=t.selected===t.currentCat.divObj,this.setSelected=this.setSelected.bind(this),this.create(),t.startScreen||this.addEventListeners()}var t,n,r;return t=e,(n=[{key:"create",value:function(){var e=this.props,t=e.currentCat,n=e.parent,r=e.images,o=e.startScreen;this.banner=document.createElement("div"),this.banner.setAttribute("class","banner ".concat(t.class)),this.banner.setAttribute("data-value",t.divObj),this.banner.style.left=t.x+"px",this.banner.style.height=(o?t.startScreenHeight:385)+"px",this.banner.style.background=t.color,this.selected&&this.banner.classList.add("selected"),this.bannerImage=document.createElement("img"),this.bannerImage.src=r[t.image_src],this.bannerImage.classList.add("bannerImg"),this.bannerImage.setAttribute("draggable",!1),this.banner.appendChild(this.bannerImage),n.appendChild(this.banner)}},{key:"addEventListeners",value:function(){this.banner.addEventListener("click",this.bannerClicked.bind(this))}},{key:"bannerClicked",value:function(e){this.setSelected(!0),this.banner.classList.add("selected"),this.props.bannerClicked&&this.props.bannerClicked(e,this.props.currentCat.divObj)}},{key:"removeEventListeners",value:function(){this.banner.removeEventListener("click",this.bannerClicked)}},{key:"destroy",value:function(){this.removeEventListeners(),this.banner.remove()}},{key:"setSelected",value:function(e){this.selected=e,e||this.banner.classList.remove("selected")}}])&&It(t.prototype,n),r&&It(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,this.onMouseMove=this.onMouseMove.bind(this),this.inited=!1,this.type=void 0,this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.inited||(this.vendorWrapper=document.querySelector(".vendorWrapper"),this.toolHolder=document.createElement("div"),this.toolHolder.className="toolHolder",this.toolShowing=!1,this.inited=!0)}},{key:"showTool",value:function(e,t,n){var r=this;this.toolShowing&&this.type===t||C.isDevice||(this.toolHolder.classList.remove(this.type),this.toolHolder.classList.add(t),this.type=t,i.loadFile(this.props.images[this.props._configJson.domElements.drawingTools[t].active]).then((function(t){r.toolHolder.innerHTML=t.target.responseText,r.toolHolder.querySelectorAll(".color-holder-path").forEach((function(e){return e.style.fill=n})),document.body.style.cursor="none",r.vendorWrapper.appendChild(r.toolHolder),e&&(r.toolHolder.style.left="".concat(e.pageX-5,"px"),r.toolHolder.style.top="".concat(e.pageY-5,"px")),window.addEventListener(C.move,r.onMouseMove),r.toolShowing=!0})))}},{key:"changeColor",value:function(e){this.toolHolder.querySelectorAll(".color-holder-path").forEach((function(t){return t.style.fill=e}))}},{key:"hideTool",value:function(){this.toolShowing&&(document.body.style.removeProperty("cursor"),this.vendorWrapper.removeChild(this.toolHolder),window.removeEventListener(C.move,this.onMouseMove),this.toolShowing=!1)}},{key:"onMouseMove",value:function(e){this.toolHolder.style.left="".concat(e.pageX-5,"px"),this.toolHolder.style.top="".concat(e.pageY-5,"px")}}])&&Ht(t.prototype,n),r&&Ht(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vt(e);if(t){var o=Vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(e,t){if(t&&("object"===jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qt(e)}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}window.onload=function(){new Jt};var Jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Nt(e,t)}(s,e);var t,n,o,a=zt(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).loadJSON(),window.display=qt(t),t.images=r,t.pastelMask=void 0,t.sketchPenMask=void 0,t.categoriesHolder={},t.activityOver=t.activityOver.bind(qt(t)),t.populateDrawingSelector=t.populateDrawingSelector.bind(qt(t)),t.createActivityArea=t.createActivityArea.bind(qt(t)),t.createDrawing=t.createDrawing.bind(qt(t)),t.createTools=t.createTools.bind(qt(t)),t.createColorPlate=t.createColorPlate.bind(qt(t)),t.appendCloseButton=t.appendCloseButton.bind(qt(t)),t.removeCloseButton=t.removeCloseButton.bind(qt(t)),t.actLogic=new Mt({activityClass:qt(t)}),F.hide(),t}return t=s,(n=[{key:"loadJSON",value:function(){var e=this;i.loadFile("internal/data/config.json").then((function(t){e._configJson=JSON.parse(t.target.responseText),e.drawingTool=new Wt(e)}))}},{key:"ready",value:function(){var e=this;null!==this._configJson?(this.readyAfterJSONLoaded(),i.loadFile(r[this._configJson.masks.pastel]).then((function(t){var n=document.createElement("div");n.innerHTML=t.target.responseText,n.querySelectorAll("path").forEach((function(e){return e.setAttribute("fill","white")})),e.pastelMask=n.getElementsByTagName("svg")[0].innerHTML})),i.loadFile(r[this._configJson.masks.sketch]).then((function(t){var n=document.createElement("div");n.innerHTML=t.target.responseText,n.querySelectorAll("path").forEach((function(e){return e.style.fill="white"})),e.sketchPenMask=n.getElementsByTagName("svg")[0].innerHTML}))):setTimeout(this.ready.bind(this),10)}},{key:"readyAfterJSONLoaded",value:function(){P.showHand(),this.fixedBackground=document.createElement("div"),this.fixedBackground.setAttribute("class",this._configJson.domElements.fixedBackGround.class),this.fixedBackground.classList.add("fullSize"),this.actArea.appendChild(this.fixedBackground),this.mask=document.createElement("img"),this.mask.src=r[this._configJson.domElements.fixedBackGround.mask_src],this.mask.setAttribute("class",this._configJson.domElements.fixedBackGround.mask_src),this.mask.setAttribute("draggable",!1),this.fixedBackground.appendChild(this.mask),this.mainDivPart=document.createElement("div"),this.mainDivPart.setAttribute("class","fullSize"),this.actArea.appendChild(this.mainDivPart);for(var e=0;e<this._configJson.domElements.categories.length;e++){var t=this._configJson.domElements.categories[e];this.categoriesHolder[t.divObj]=new Ot({currentCat:t,parent:this.mainDivPart,images:r,startScreen:!0})}this.actName=document.createElement("img"),this.actName.src=r[this._configJson.introScreen.name_src],this.actName.setAttribute("class",this._configJson.introScreen.name_src),this.actName.setAttribute("draggable",!1),this.mainDivPart.appendChild(this.actName),this.playButton=document.createElement("img"),this.playButton.src=r[this._configJson.introScreen.buttonImage],this.playButton.setAttribute("class",this._configJson.introScreen.play_button_class),this.playButton.setAttribute("draggable",!1),this.playButton.classList.add("vendorPlayerButtonLocal"),this.mainDivPart.appendChild(this.playButton),this.playButton.addEventListener(C.click,this.actLogic.createScreen),f.playStream({src:"internal/audio/audio_1.wav"})}},{key:"createDOM",value:function(){this.mainDivPart=document.createElement("div"),this.mainDivPart.setAttribute("class","fullSize"),this.actArea.appendChild(this.mainDivPart);for(var e=0;e<this._configJson.domElements.categories.length;e++){var t=this._configJson.domElements.categories[e];this.categoriesHolder[t.divObj]=new Ot({currentCat:t,parent:this.mainDivPart,images:r,startScreen:!1,selected:this.actLogic.selectedBanner,bannerClicked:this.actLogic.bannerClicked})}this.drawingSelectorHolder=document.createElement("div"),this.drawingSelectorHolder.setAttribute("class","drawingSelectorHolder"),this.drawingSelectorHolder.setAttribute("draggable",!1),this.mainDivPart.appendChild(this.drawingSelectorHolder),this.populateDrawingSelector()}},{key:"appendCloseButton",value:function(){this.closeButton=document.createElement("img"),this.closeButton.src=r[this._configJson.domElements.closeButton],this.closeButton.setAttribute("class","closeButton"),this.closeButton.setAttribute("draggable",!1),this.mainDivPart.appendChild(this.closeButton),this.closeButton.addEventListener("click",this.actLogic.backToActivity)}},{key:"removeCloseButton",value:function(){this.closeButton.removeEventListener("click",this.actLogic.backToActivity),this.closeButton.remove()}},{key:"populateDrawingSelector",value:function(){this.drawingSelectorHolder.innerHTML=null;for(var e=0;e<10;e++){var t=document.createElement("div");t.setAttribute("class","drawingSelector"),t.setAttribute("draggable",!1);var n=document.createElement("img");n.src=r[this._configJson.domElements[this.actLogic.selectedBanner][e]],n.setAttribute("class","selectorImg"),n.setAttribute("draggable",!1),n.setAttribute("data-value",this._configJson.domElements[this.actLogic.selectedBanner][e]),n.addEventListener("click",this.actLogic.startActivity),t.appendChild(n),this.drawingSelectorHolder.appendChild(t)}}},{key:"createActivityArea",value:function(){this.mainDivPart.style.display="none",void 0!==this.activityArea&&this.activityArea.remove(),this.activityArea=document.createElement("div"),this.activityArea.setAttribute("class","fullSize"),this.actArea.appendChild(this.activityArea);var e=document.createElement("img");e.src=r[this._configJson.domElements.drawingArea.drawingLayer],e.setAttribute("class",this._configJson.domElements.drawingArea.drawingLayer),e.setAttribute("draggable",!1),this.activityArea.appendChild(e),this.homeButton=document.createElement("img"),this.homeButton.src=r[this._configJson.domElements.homeButton],this.homeButton.setAttribute("class","homeButton"),this.homeButton.setAttribute("draggable",!1),this.activityArea.appendChild(this.homeButton),this.homeButton.addEventListener("click",this.actLogic.goToHome)}},{key:"createDrawing",value:function(){var e=this,t=this;void 0!==this.drawing&&this.drawing.remove(),this.drawing=document.createElement("div"),this.drawing.setAttribute("class","drawing"),this.activityArea.appendChild(this.drawing),this.camera=document.createElement("img"),this.camera.src=we,this.camera.setAttribute("class","camera"),this.camera.addEventListener(C.click,this.actLogic.downloadSVG),this.activityArea.appendChild(this.camera),i.loadFile(r[this.actLogic.selectedDrawing]).then((function(n){e.drawing.innerHTML=n.target.responseText;var r=e.drawing.getElementsByTagName("svg")[0],o=document.createElementNS("http://www.w3.org/2000/svg","mask");o.setAttribute("id","pastelMask"),o.innerHTML=e.pastelMask,r.prepend(o);var i=document.createElementNS("http://www.w3.org/2000/svg","mask");i.setAttribute("id","sketchPenMask"),i.innerHTML=e.sketchPenMask,r.prepend(i);var a=["#fff","#ffffff","rgb(255, 255, 255)","rgba(255, 255, 255, 1)"];e.drawing.querySelectorAll(".cls-1, .cls-2, .cls-3, .cls-4").forEach((function(e){a.includes(getComputedStyle(e).fill)&&e.addEventListener("click",t.actLogic.areaClicked)}))}))}},{key:"createColorPlate",value:function(){var e=this,t=this;this.outerCircle=document.createElement("div"),this.outerCircle.setAttribute("class","outerCircle"),this.activityArea.appendChild(this.outerCircle),this.leftArrow=document.createElement("img"),this.leftArrow.src=r[this._configJson.domElements.drawingArea.arrow],this.leftArrow.setAttribute("class","leftArrow"),this.activityArea.appendChild(this.leftArrow),this.leftArrow.addEventListener("click",t.actLogic.moveLeft),this.rightArrow=document.createElement("img"),this.rightArrow.src=r[this._configJson.domElements.drawingArea.arrow],this.rightArrow.setAttribute("class","rightArrow"),this.activityArea.appendChild(this.rightArrow),this.rightArrow.addEventListener("click",t.actLogic.moveRight);var n=document.createElement("div");n.setAttribute("class","innerCircle"),this.outerCircle.appendChild(n);var o=document.createElement("div");o.setAttribute("class","innerSmallCircle"),this.outerCircle.appendChild(o),i.loadFile(r[this._configJson.domElements.drawingArea.colorHolder]).then((function(n){for(var r=1;r<=12;r++){var o=document.createElement("div");o.setAttribute("class","colorSelector colorSelector"+r),o.setAttribute("data-color",e._configJson.colors[r]),o.innerHTML=n.target.responseText,e.outerCircle.appendChild(o),o.querySelector(".colorHolderPath").style.fill=e._configJson.colors[r],o.addEventListener("click",t.actLogic.changeSelectedColor)}}))}},{key:"createTools",value:function(){for(var e=0,t=Object.entries(this._configJson.domElements.drawingTools);e<t.length;e++){var n=Dt(t[e],2),o=n[0],i=n[1],a=document.createElement("img");a.src=r[i.static],a.setAttribute("class","tools ".concat(o)),a.setAttribute("data-toolType",o),this.activityArea.appendChild(a),a.addEventListener("click",this.actLogic.setSelectedTool)}}},{key:"activityOver",value:function(){}},{key:"alertActivityOver",value:function(){var e=this;setTimeout((function(){confirm("Activity Over! Try Again?")&&(e.played=0,e.combinationsFound=0,e.selectedMeteors=[],e.numberUsed=[],e.actLogic.createScreen())}),1e3)}}])&&Ft(t.prototype,n),o&&Ft(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}($)}]);